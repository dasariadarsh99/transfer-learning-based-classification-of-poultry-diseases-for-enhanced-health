<!DOCTYPE html>
<html>
  <head>
    <title>PoultryDetect</title>
    <link rel="stylesheet" href="/static/style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <style>
      body {
        background: #111;
        color: #fff;
        font-family: "Inter", Arial, sans-serif;
        margin: 0;
        padding: 0;
      }
      .navbar {
        background: #181818;
        padding: 0 40px;
        display: flex;
        align-items: center;
        height: 60px;
        justify-content: space-between;
      }
      .navbar .logo {
        font-size: 1.3rem;
        font-weight: 700;
        color: #fff;
        letter-spacing: 1px;
        font-family: "Inter", Arial, sans-serif;
        flex: 1;
        cursor: pointer;
      }
      .navbar .center-links {
        flex: 2;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .navbar ul {
        list-style: none;
        display: flex;
        gap: 32px;
        margin: 0;
        padding: 0;
      }
      .navbar ul li a {
        color: #fff;
        text-decoration: none;
        font-weight: 500;
        font-size: 0.85rem;
        letter-spacing: 1px;
        padding: 8px 0;
        border-bottom: 2px solid transparent;
        transition: border 0.2s;
        font-family: "Inter", Arial, sans-serif;
      }
      .navbar ul li a.active,
      .navbar ul li a:hover {
        border-bottom: 2px solid #22d3ee;
      }
      .navbar .right-icons {
        flex: 1;
        display: flex;
        justify-content: flex-end;
        align-items: center;
        gap: 18px;
      }
      .navbar .right-icons a {
        color: #fff;
        font-size: 1.25rem;
        margin-left: 10px;
        transition: color 0.2s;
      }
      .navbar .right-icons a:hover {
        color: #22d3ee;
      }
      .hero {
        text-align: center;
        margin-top: 48px;
        margin-bottom: 32px;
      }
      .hero h1 {
        font-size: 1.3rem;
        font-weight: 500;
        margin-bottom: 12px;
        color: #fff;
        font-family: "Inter", Arial, sans-serif;
      }
      .hero p {
        font-size: 1rem;
        color: #e0e7ef;
        margin-bottom: 24px;
        font-family: "Inter", Arial, sans-serif;
      }
      .hero .cta-btn {
        background: #22d3ee;
        color: #181818;
        border: none;
        border-radius: 6px;
        padding: 12px 32px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: background 0.2s;
        font-family: "Inter", Arial, sans-serif;
      }
      .hero .cta-btn:hover {
        background: #0ea5e9;
        color: #fff;
      }
      .gallery {
        display: flex;
        justify-content: center;
        gap: 32px;
        margin: 40px 0 0 0;
        flex-wrap: wrap;
      }
      .gallery .img-card {
        background: #181818;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 2px 12px rgba(34, 211, 238, 0.08);
        width: 220px;
        text-align: center;
        margin-bottom: 24px;
      }
      .gallery .img-card img {
        width: 100%;
        height: 140px;
        object-fit: cover;
        display: block;
      }
      .gallery .img-card .caption {
        padding: 12px 0;
        color: #fff;
        font-size: 1.05rem;
        font-weight: 500;
        font-family: "Inter", Arial, sans-serif;
      }
      /* Prediction Section */
      .prediction-section {
        display: none;
        flex-direction: column;
        align-items: center;
        margin-top: 40px;
        animation: fadeIn 0.5s;
        background: #181818;
        border-radius: 14px;
        box-shadow: 0 2px 16px rgba(34, 211, 238, 0.08);
        padding: 32px 24px 24px 24px;
        max-width: 520px;
        margin: 40px auto 0 auto;
      }
      .prediction-section.active {
        display: flex;
      }
      .prediction-section h2 {
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 18px;
        color: #fff;
        font-family: "Inter", Arial, sans-serif;
        letter-spacing: 1px;
      }
      .prediction-section label {
        font-size: 1rem;
        font-weight: 600;
        margin-bottom: 12px;
        display: block;
        color: #fff;
        font-family: "Inter", Arial, sans-serif;
      }
      .prediction-section input[type="file"] {
        margin-bottom: 20px;
        padding: 8px;
        border-radius: 6px;
        border: 1.5px solid #22d3ee;
        background: #222;
        color: #fff;
        font-family: "Inter", Arial, sans-serif;
        width: 100%;
        font-size: 1rem;
      }
      .prediction-section button {
        background: #22d3ee;
        color: #181818;
        border: none;
        border-radius: 6px;
        padding: 10px 28px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        margin: 18px auto 0 auto;
        display: block;
        transition: background 0.2s;
        font-family: "Inter", Arial, sans-serif;
      }
      .prediction-section button:hover {
        background: #0ea5e9;
        color: #fff;
      }
      .prediction-section #preview {
        margin-bottom: 16px;
        max-width: 320px;
        max-height: 320px;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(55, 48, 163, 0.08);
        display: none;
      }
      .prediction-section #result {
        font-size: 1.2rem;
        color: #fff;
        margin-top: 24px;
        font-weight: 500;
        min-height: 24px;
        font-family: "Inter", Arial, sans-serif;
      }
      .disease-name {
        color: #ff3366;
        font-size: 1.05rem;
        font-weight: 700;
        margin-left: 6px;
        display: inline-block;
        background: none;
        border-radius: 0;
        padding: 0;
        box-shadow: none;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      @media (max-width: 900px) {
        .gallery {
          flex-direction: column;
          align-items: center;
        }
        .navbar {
          flex-direction: column;
          height: auto;
        }
        .navbar .center-links {
          margin: 10px 0;
        }
      }
    </style>
  </head>
  <body>
    <nav class="navbar">
      <div class="logo" onclick="goHome()">PoultryDetect</div>
      <div class="center-links">
        <ul>
          <li><a href="#" class="active" onclick="goHome()">HOME</a></li>
          <li><a href="#" onclick="goHome()">ABOUT</a></li>
          <li><a href="#" onclick="goHome()">CONTACT</a></li>
        </ul>
      </div>
      <div class="right-icons">
        <a href="https://github.com/" target="_blank" title="GitHub">
          <i class="fab fa-github"></i>
        </a>
        <a href="https://instagram.com/" target="_blank" title="Instagram">
          <i class="fab fa-instagram"></i>
        </a>
      </div>
    </nav>
    <section class="hero" id="hero-section">
      <h1>
        Welcome to Poultry Health Hub,<br />
        your comprehensive resource for<br />
        poultry disease management and prevention.
      </h1>
      <button class="cta-btn" onclick="showPredictionSection()">
        GET STARTED
      </button>
    </section>
    <section class="gallery" id="gallery-section">
      <div class="img-card">
        <img src="/static/assests/image1.jpg" alt="Coccidiosis" />
        <div class="caption">Coccidiosis</div>
      </div>
      <div class="img-card">
        <img src="/static/assests/image2.jpg" alt="Chicken Disease" />
        <div class="caption">Chicken Disease</div>
      </div>
      <div class="img-card">
        <img src="/static/assests/image3.jpg" alt="Healthy Chicken" />
        <div class="caption">Healthy Chicken</div>
      </div>
      <div class="img-card">
        <img src="/static/assests/image4.jpg" alt="Poultry Farm" />
        <div class="caption">Poultry Farm</div>
      </div>
    </section>
    <section class="prediction-section" id="prediction-section">
      <h2>Prediction</h2>
      <div style="margin-bottom: 18px; font-size: 1.2rem">
        Image Classification
      </div>
      <label for="imageInput">Upload Your Image :</label>
      <input
        type="file"
        id="imageInput"
        accept="image/*"
        onchange="showPreview(event)"
      />
      <img id="preview" src="#" alt="Image Preview" />
      <button onclick="uploadImage()">predict</button>
      <p id="result"></p>
    </section>
    <script>
      function goHome() {
        document.getElementById("hero-section").style.display = "";
        document.getElementById("gallery-section").style.display = "";
        document
          .getElementById("prediction-section")
          .classList.remove("active");
        window.scrollTo(0, 0);
      }
      function showPredictionSection() {
        document.getElementById("hero-section").style.display = "none";
        document.getElementById("gallery-section").style.display = "none";
        document.getElementById("prediction-section").classList.add("active");
        window.scrollTo(0, 0);
      }
      function showPreview(event) {
        const preview = document.getElementById("preview");
        const file = event.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (e) {
            preview.src = e.target.result;
            preview.style.display = "block";
          };
          reader.readAsDataURL(file);
        } else {
          preview.src = "#";
          preview.style.display = "none";
        }
        document.getElementById("result").innerText = "";
      }
      function uploadImage() {
        const fileInput = document.getElementById("imageInput");
        const file = fileInput.files[0];
        if (!file) {
          alert("Please select an image first");
          return;
        }
        const formData = new FormData();
        formData.append("file", file);
        document.getElementById("result").innerText = "Predicting...";
        fetch("/predict", {
          method: "POST",
          body: formData,
        })
          .then((response) => response.json())
          .then((data) => {
            document.getElementById(
              "result"
            ).innerHTML = `<span style='color:#22d3ee;'>Hence, The infection type detected as</span> <span class='disease-name'>${data.prediction}</span>`;
          })
          .catch((error) => {
            document.getElementById("result").innerText = "Error: " + error;
          });
      }
    </script>
  </body>
</html>
